<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="utf-8">
    <title>Aggiungi Prodotto - Pasticceria Padovana</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <base href="[BASE_URL]">
    <link rel="icon" type="image/x-icon" href="site/img/icona.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="site/css/style.css" media="screen"/>
    <link rel="stylesheet" href="site/css/mini.css" media="screen"/>
    <link rel="stylesheet" href="site/css/print.css" media="print"/>
    <script src="site/js/script.js"></script>
</head>
<body>
    <a href="[URI_CORRENTE]#main" class="skip-link">Salta al contenuto principale</a>
    
    <div class="header-fixed-wrapper">
        [header]
        <nav id="breadcrumb">           
            <ul>
                <li><a href="home"><span lang="en">Home</span></a></li>
                <li><a href="area-personale">Area Personale</a></li>
                <li aria-current="page">Aggiungi Prodotto</li>
            </ul>
        </nav>
    </div>

    <main id="main">
        <div class="titolo">
            <h2>Gestione prodotti</h2>
            <p><em>Aggiungi e controlla i prodotti disponibili nella pasticceria</em></p>
        </div>
        <div class="contenuto">
            
            <!-- Messaggi Sistema -->
            <div class="system-messages">
                [messaggioErroreDB]
                [messaggioConferma]
            </div>

            <!-- Form e Tabella in Grid -->
            <div class="admin-content-grid">
                
                <!-- Sezione Form -->
                <section class="form-container">
                    <div class="section-header">
                        <h3>Aggiungi un Prodotto</h3>
                    </div>

                    <form id="formAggiungiProdotto" action="aggiungi-prodotto" method="post" enctype="multipart/form-data" >
                        <fieldset>
                            <legend class="sr-only">Dettagli del prodotto</legend>
                            
                            <input type="hidden" name="csrf_token" value="[csrf_token]">
                            
                            <!-- Tipo Prodotto -->
                            <div class="campoDati">
                                <label for="tipo">Tipo di prodotto <span class="required">*</span></label>
                                <select id="tipo" name="tipo" required aria-describedby="type-help" class="select-stato">
                                    <option value="">-- Seleziona un tipo --</option>
                                    <option value="torta" [selTorta]>Torta</option>
                                    <option value="pasticcino" [selPasticcino]>Pasticcino</option>
                                </select>
                                <small id="type-help" class="sr-only">Seleziona il tipo di prodotto da aggiungere</small>
                                [messaggioErroreTipo]
                            </div>

                            <!-- Nome -->
                            <div class="campoDati">
                                <label for="nome">Nome del prodotto <span class="required">*</span></label>
                                <input type="text" id="nome" name="nome" maxlength="30" required aria-describedby="name-help" value="[valoreNome]" placeholder="Es. Torta Pazientina">
                                <small id="name-help" class="field-hint">Massimo 30 caratteri</small>
                                [messaggioErroreNome]
                            </div>

                            <!-- Descrizione -->
                            <div class="campoDati">
                                <label for="descrizione">Descrizione del prodotto <span class="required">*</span></label>
                                <textarea id="descrizione" name="descrizione" maxlength="255" required aria-describedby="desc-help" rows="4" placeholder="Descrivi il prodotto...">[valoreDescrizione]</textarea>
                                <small id="desc-help" class="field-hint">Massimo 255 caratteri</small>
                                [messaggioErroreDescrizione]
                            </div>

                            <!-- Prezzo -->
                            <div class="campoDati">
                                <label for="prezzo">Prezzo <span aria-label="euro">(€)</span> <span class="required">*</span></label>
                                <div class="input-with-icon">
                                    <input type="number" id="prezzo" name="prezzo" step="0.01" min="0" max="99999999.99" required aria-describedby="price-help" value="[valorePrezzo]" placeholder="0.00">
                                </div>
                                <small id="price-help" class="field-hint">Per le torte indicare il prezzo a porzione</small>
                                [messaggioErrorePrezzo]
                            </div>

                            <!-- Immagine -->
                            <div class="campoDati">
                                <label for="immagine">Immagine del prodotto <span class="required">*</span></label>
                                <div class="file-upload-wrapper">
                                    <input type="file" id="immagine" name="immagine" accept=".jpg,.jpeg,.png,.webp" required aria-describedby="img-help">
                                </div>
                                <small id="img-help" class="field-hint">JPG, PNG o WEBP - massimo 1MB</small>
                                [messaggioErroreImmagine]
                            </div>

                            <!-- Testo Alternativo -->
                            <div class="campoDati">
                                <label for="testoAlternativo">Testo alternativo <span aria-hidden="true">(ALT)</span> <span class="required">*</span></label>
                                <textarea id="testoAlternativo" name="testoAlternativo" maxlength="255" required aria-describedby="alt-help" rows="2" placeholder="Descrivi l'immagine per l'accessibilità...">[valoreTestoAlternativo]</textarea>
                                <small id="alt-help" class="field-hint">Breve descrizione dell'immagine per screen reader</small>
                                [messaggioErroreTestoAlternativo]
                            </div>

                            <!-- Allergeni -->
                            <div class="campoDati">
                                <fieldset>
                                    <legend>Allergeni contenuti</legend>
                                    <div class="allergeni-grid">
                                        
                                        <label> <!--in questo modo non ci sono spazi tra checkbox e label-->
                                            <input type="checkbox" name="allergeni[]" value="Glutine" [checkedGlutine]>
                                            Glutine
                                        </label>
                                        
                                        <label>
                                            <input type="checkbox" name="allergeni[]" value="Uova" [checkedUova]>
                                            Uova
                                        </label>
                                        
                                        <label>
                                            <input type="checkbox" name="allergeni[]" value="Latte" [checkedLatte]>
                                            Latte
                                        </label>
                                        
                                        <label>
                                            <input type="checkbox" name="allergeni[]" value="Frutta a guscio" [checkedFrutta]>
                                            Frutta a guscio
                                        </label>
                                        
                                        <label>
                                            <input type="checkbox" name="allergeni[]" value="Arachidi" [checkedArachidi]>
                                            Arachidi
                                        </label>
                                        
                                        <label>
                                            <input type="checkbox" name="allergeni[]" value="Soia" [checkedSoia]>
                                            Soia
                                        </label>

                                        <label>
                                            <input type="checkbox" name="allergeni[]" value="Sesamo" [checkedSesamo]>
                                            Sesamo
                                        </label>
                                    </div>
                                </fieldset>
                            </div>

                            <button type="submit" name="submit" class="btn-submit">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="5" x2="12" y2="19"/>
                                    <line x1="5" y1="12" x2="19" y2="12"/>
                                </svg>
                                Aggiungi Prodotto
                            </button>
                        </fieldset>
                    </form>
                </section>

                <!-- Sezione Tabella Prodotti -->
                <section class="products-list-section">
                    <div class="section-header">
                        <h3>Prodotti Esistenti</h3>
                    </div>
                    <div class="orders-content">
                        [tabellaProdotti]
                    </div>
                </section>

            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div id="navigazione-footer">
                <h2>Navigazione</h2>
                <ul>
                    <li><a href="home">Home</a></li>
                    <li><a href="chi-siamo">Chi siamo</a></li>
                    <li><a href="torte">Torte</a></li>
                    <li><a href="pasticcini">Pasticcini</a></li>
                    <li><a href="contattaci">Contattaci</a></li>
                </ul>
            </div>

            <div id="contatti">
                <h2>Contatti</h2>
                <address>
                    <p>Pasticceria Padovana</p>
                    <p>Via Roma 42<br>35100 Padova (PD)</p>
                    <p>Telefono: <a href="tel:+390498765432">+39 049 8765432</a></p>
                    <p>Email: <a href="mailto:info@pasticceriapadovana.it">info@pasticceriapadovana.it</a></p>
                </address>
            </div>

            <div id="assistenzaClienti">
                <h2>Orari e Assistenza</h2>
                <p><abbr title="Lunedì">Lun</abbr>-<abbr title="Venerdì">Ven</abbr> 8:30-13:00 e 14:00-17:30</p>
                <p>Email: <a href="mailto:gestioneclienti@pasticceriapadovana.it">gestioneclienti@pasticceriapadovana.it</a></p>
            </div>
        </div>
        <div class="torna-su">
            <a href="[URI_CORRENTE]#main" class="back-to-top">Torna su ↑</a>
            <p id="copyright">&copy; 2025 Pasticceria Padovana - Tutti i diritti riservati</p>
        </div>
    </footer>

</body>
</html>